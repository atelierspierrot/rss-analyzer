<?php
/* @var \WebSyndication\Feed $xml */
if (!isset($xml) || empty($xml)) return '';

$channel_image          = $xml->getTagItem('image');
$channel_title          = $xml->getTagItem('title');
$channel_date           = $xml->getTagItem('updated_date');
$channel_link           = $xml->getTagItem('link');
$channel_description    = $xml->getTagItem('description');
$channel_subtitle       = $xml->getTagItem('subtitle');

?>
<div class="channel-wrapper <?php echo \WebSyndication\Helper::getClass('channel_wrapper'); ?>">

    <div class="channel-title <?php echo \WebSyndication\Helper::getClass('channel_title'); ?>">

<?php if (!empty($channel_link)) : ?>
        <a href="<?php echo $channel_link->content; ?>" title="<?php 
            echo (isset($channel_link->title) ? $channel_link->title->content : 'See online');
        ?>">
<?php endif; ?>

            <?php echo $channel_title->content; ?>

<?php if (!empty($channel_link)) : ?>
        </a>
<?php endif; ?>

    </div>

    <div class="channel-content <?php echo \WebSyndication\Helper::getClass('channel_content'); ?>">

<?php if (!empty($channel_subtitle)) : ?>
        <div class="channel-subtitle <?php echo \WebSyndication\Helper::getClass('channel_subtitle'); ?>">
            <?php echo $channel_subtitle->getXmlValue(); ?>
        </div>
<?php endif; ?>

<?php if (!empty($channel_description)) : ?>
        <div class="channel-description <?php echo \WebSyndication\Helper::getClass('channel_description'); ?>">
            <?php echo $channel_description->getXmlValue(); ?>
        </div>
<?php endif; ?>

<?php if (!empty($channel_image)) : ?>
        <div class="channel-image <?php echo \WebSyndication\Helper::getClass('channel_image'); ?>">
            <?php echo \WebSyndication\Helper::renderView(
                \WebSyndication\Helper::getTemplate('image_tag_template'),
                array('xml' => $channel_image, 'alt_class' => 'channel')
            ); ?>
        </div>
<?php endif; ?>

    </div>

</div>
